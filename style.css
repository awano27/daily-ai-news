/* Digital.gov compliance deployed at 2025-08-20 23:07:20 JST */
:root{
  /* Digital.gov準拠: WCAG AAA対応カラーシステム */
  --fg:#0f172a; --bg:#ffffff; --muted:#475569; --line:#e2e8f0;
  --brand:#1e40af; --brand-weak:#f1f5f9; --chip:#f8fafc;
  --brand-hover:#1e3a8a; --brand-light:#bfdbfe; --brand-dark:#1e3a8a;
  --success:#15803d; --warning:#ca8a04; --danger:#dc2626;
  --info:#0369a1; --neutral:#64748b;
  
  /* 段階的背景色（彩度を下げた背景） */
  --bg-subtle:#f8fafc; --bg-muted:#f1f5f9; --bg-emphasis:#e2e8f0;
  
  /* グラデーション（彩度調整済み） */
  --gradient:linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
  --gradient-subtle:linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  
  /* シャドウ */
  --shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg:0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  
  /* レイアウト変数 */
  --border-radius: 12px;
  --spacing-xs: 4px; --spacing-sm: 8px; --spacing-md: 16px; 
  --spacing-lg: 24px; --spacing-xl: 32px; --spacing-2xl: 48px;
  
  /* タイポグラフィ */
  --font-size-xs: 12px; --font-size-sm: 14px; --font-size-base: 16px;
  --font-size-lg: 18px; --font-size-xl: 20px; --font-size-2xl: 24px;
  --font-size-3xl: 32px; --font-size-4xl: 36px;
  
  /* フォーカス表示 */
  --focus-ring: 0 0 0 3px rgba(59, 130, 246, 0.5);
  --focus-ring-offset: 2px;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Noto Sans JP',sans-serif;
  font-size:var(--font-size-base);
  line-height:1.6;
  scroll-behavior:smooth;
}
.container{
  max-width:1000px;
  margin:0 auto;
  padding:var(--spacing-lg) var(--spacing-md);
  /* digital.gov: 重要情報を上部に集約するためのグリッド */
  display:flex;
  flex-direction:column;
  gap:var(--spacing-lg);
}
.site-header{
  background:var(--gradient);
  color:white;
  padding:var(--spacing-lg) var(--spacing-md);
  box-shadow:var(--shadow-lg);
  display:flex;justify-content:space-between;align-items:center;
  border-bottom: 3px solid var(--brand-hover);
}
.site-footer{
  border-top:1px solid var(--line);
  color:var(--muted);
  padding:20px 16px;
  background:#f9fafb;
  margin-top:40px;
  display:flex;justify-content:space-between;align-items:center;
}
.brand{font-weight:700;font-size:20px}
.updated{
  color:rgba(255,255,255,0.95);
  font-size:var(--font-size-sm);
  font-weight:500;
  /* digital.gov: アイコンで情報を補完 */
}
.updated::before{
  content:'🕒 ';
  margin-right:var(--spacing-xs);
}
/* Digital.gov: 情報階層を上部に集約 */
.priority-header{
  background:var(--gradient-subtle);
  border:2px solid var(--brand-light);
  border-radius:var(--border-radius);
  padding:var(--spacing-xl);
  margin-bottom:var(--spacing-2xl);
  text-align:center;
  position:relative;
}

.priority-header::before{
  content:'📊 ';
  font-size:var(--font-size-2xl);
  position:absolute;
  top:var(--spacing-sm);
  left:var(--spacing-md);
}

.page-title{
  margin:0 0 var(--spacing-sm) 0;
  font-size:var(--font-size-4xl);
  font-weight:800;
  color:var(--fg);
  line-height:1.2;
}

.lead{
  color:var(--muted);
  margin:var(--spacing-md) 0 var(--spacing-lg) 0;
  font-size:var(--font-size-base);
  line-height:1.6;
  max-width:600px;
  margin-left:auto;
  margin-right:auto;
}

/* 重要情報グリッド */
.key-stats{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));
  gap:var(--spacing-sm);
  margin-top:var(--spacing-lg);
}

.key-stat{
  background:white;
  border:1px solid var(--brand-light);
  border-radius:var(--spacing-sm);
  padding:var(--spacing-md);
  text-align:center;
}

.key-stat-icon{
  font-size:var(--font-size-lg);
  margin-bottom:var(--spacing-xs);
  display:block;
}

.key-stat-value{
  font-size:var(--font-size-xl);
  font-weight:700;
  color:var(--brand);
  margin-bottom:var(--spacing-xs);
  display:block;
}

.key-stat-label{
  font-size:var(--font-size-xs);
  color:var(--muted);
  font-weight:600;
}

/* Digital.gov: KPIエリアを第二階層として明確化 */
.kpi-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:var(--spacing-md);
  margin:var(--spacing-2xl) 0;
  padding:var(--spacing-xl);
  background:var(--bg-subtle);
  border-radius:var(--border-radius);
  border:2px solid var(--line);
  position:relative;
}

.kpi-grid::before{
  content:'📈 データ概要';
  position:absolute;
  top:var(--spacing-sm);
  left:var(--spacing-md);
  font-size:var(--font-size-sm);
  font-weight:700;
  color:var(--brand);
}

.kpi-card{
  background:white;
  border:2px solid var(--brand-light);
  border-radius:var(--border-radius);
  padding:var(--spacing-lg);
  box-shadow:var(--shadow);
  transition:all 0.2s ease;
  text-align:center;
  position:relative;
  min-height:120px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.kpi-card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-lg);
  border-color:var(--brand);
}

.kpi-card:focus-within{
  outline:3px solid var(--brand-light);
  outline-offset:2px;
}

.kpi-value{
  font-size:var(--font-size-3xl);
  font-weight:800;
  color:var(--brand);
  margin-bottom:var(--spacing-xs);
  line-height:1;
}

.kpi-label{
  color:var(--fg);
  font-weight:600;
  margin-bottom:var(--spacing-xs);
  font-size:var(--font-size-sm);
  line-height:1.2;
}
.kpi-note{
  color:var(--muted);
  font-size:var(--font-size-xs);
  font-weight:500;
  margin-top:auto;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:var(--spacing-xs);
}

.kpi-note::before{
  content:attr(data-icon);
  font-style:normal;
}

/* Digital.gov: タブナビゲーション - 完全アクセシブル */
.tabs{
  display:flex;
  gap:var(--spacing-xs);
  background:var(--bg-subtle);
  border:2px solid var(--line);
  border-radius:var(--border-radius);
  padding:var(--spacing-xs);
  margin:var(--spacing-2xl) 0 var(--spacing-lg) 0;
  box-shadow:var(--shadow);
  position:relative;
  role:tablist;
}

.tabs::before{
  content:'📑 カテゴリ選択';
  position:absolute;
  top:calc(-1 * var(--spacing-lg));
  left:0;
  font-size:var(--font-size-sm);
  font-weight:700;
  color:var(--brand);
}

.tab{
  appearance:none;
  background:transparent;
  border:2px solid transparent;
  border-radius:calc(var(--border-radius) - 2px);
  padding:var(--spacing-md) var(--spacing-lg);
  cursor:pointer;
  color:var(--fg);
  font-weight:600;
  font-size:var(--font-size-base);
  transition:all 0.2s ease;
  flex:1;
  text-align:center;
  min-height:48px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:var(--spacing-xs);
  position:relative;
}

.tab[aria-selected="true"]{
  background:var(--brand);
  color:white;
  border-color:var(--brand-dark);
  box-shadow:var(--shadow);
  font-weight:700;
}

.tab[aria-selected="true"]::after{
  content:'✓';
  position:absolute;
  top:-8px;
  right:-8px;
  background:var(--success);
  color:white;
  border-radius:50%;
  width:20px;
  height:20px;
  font-size:12px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.tab:hover:not([aria-selected="true"]){
  background:white;
  color:var(--brand);
  border-color:var(--brand-light);
  box-shadow:var(--shadow);
}

.tab:focus{
  outline:3px solid var(--brand-light);
  outline-offset:2px;
  z-index:1;
}

/* キーボードナビゲーション表示 */
.tab:focus::before{
  content:'→';
  position:absolute;
  left:-12px;
  color:var(--brand);
  font-weight:800;
}

/* 検索ボックスエリア */
.search-container{
  display:flex;
  justify-content:flex-end;
  margin:0 0 20px 0;
}
#searchBox{
  width:100%;
  max-width:400px;
  padding:12px;
  border:1px solid var(--line);
  border-radius:8px;
  font-size:16px;
}

.tab-panel{padding:16px 0}
.hidden{display:none}

/* Digital.gov: 記事カード - 近接の法則と意味伝達強化 */
.card{
  border:2px solid var(--line);
  border-radius:var(--border-radius);
  padding:var(--spacing-lg);
  margin:var(--spacing-lg) 0;
  background:white;
  box-shadow:var(--shadow);
  transition:all 0.2s ease;
  position:relative;
  display:flex;
  flex-direction:column;
  gap:var(--spacing-sm);
}

.card::before{
  content:attr(data-category-icon);
  position:absolute;
  top:var(--spacing-sm);
  right:var(--spacing-sm);
  font-size:var(--font-size-lg);
  opacity:0.6;
}
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-lg);
  border-color:var(--brand);
}
.card-header{margin-bottom:8px}
.card-title{
  color:var(--brand);
  text-decoration:none;
  font-weight:700;
  font-size:18px;
  line-height:1.4;
  display:block;
  transition:color 0.2s ease;
  margin-bottom:var(--spacing-sm);
}
.card-title:hover{color:var(--brand-hover)}
.card-title:focus{
  outline:3px solid var(--brand-light);
  outline-offset:2px;
  border-radius:4px;
}
.card-summary{
  margin:var(--spacing-md) 0;
  color:var(--fg);
  line-height:1.7;
  font-size:15px;
  font-weight:500;
}
/* Digital.gov: フッター - 関連要素の近接配置 */
.card-footer{
  margin-top:auto;
  padding-top:var(--spacing-md);
  border-top:2px solid var(--bg-emphasis);
  color:var(--muted);
  font-size:var(--font-size-xs);
  font-weight:500;
  display:flex;
  flex-direction:column;
  gap:var(--spacing-xs);
}

.card-footer::before{
  content:'🔗 情報源';
  font-weight:700;
  color:var(--brand);
  font-size:var(--font-size-xs);
}

.card-footer a{
  color:var(--brand);
  text-decoration:none;
  font-weight:600;
  word-break:break-all;
  padding:var(--spacing-xs);
  border-radius:var(--spacing-xs);
  transition:all 0.2s ease;
}

.card-footer a:hover{
  color:var(--brand-hover);
  text-decoration:underline;
  background:var(--brand-weak);
}

.card-footer a:focus{
  outline:2px solid var(--brand-light);
  outline-offset:2px;
}
/* チップ - 色だけでなくアイコンで意味を伝達 */
.chips{
  display:flex;
  gap:var(--spacing-sm);
  flex-wrap:wrap;
  margin-top:var(--spacing-md);
  padding-top:var(--spacing-sm);
  border-top:1px solid var(--line);
}
.chip{
  background:var(--chip);
  border:2px solid var(--line);
  border-radius:999px;
  padding:6px 12px;
  font-size:12px;
  color:var(--muted);
  font-weight:600;
  display:flex;
  align-items:center;
  gap:4px;
}
.chip.ghost{
  background:var(--brand-weak);
  color:var(--brand);
  border-color:var(--brand-light);
}
.chip::before{
  content:'';
  width:6px;
  height:6px;
  border-radius:50%;
  background:currentColor;
  opacity:0.6;
}
.empty{
  padding:var(--spacing-xl);
  border:2px dashed var(--line);
  border-radius:var(--border-radius);
  color:var(--muted);
  margin:var(--spacing-lg) 0;
  text-align:center;
  font-style:italic;
  background:var(--chip);
}
/* 注意書き - 視認性向上 */
.note{
  color:var(--fg);
  font-size:14px;
  font-weight:500;
  margin:var(--spacing-xl) 0;
  padding:var(--spacing-lg);
  background:var(--brand-weak);
  border:2px solid var(--brand-light);
  border-radius:var(--border-radius);
  border-left:4px solid var(--brand);
}

/* レスポンシブデザイン - モバイルファースト改善 */
@media (max-width: 768px) {
  .kpi-grid{
    grid-template-columns:1fr;
    gap:var(--spacing-sm);
    margin:var(--spacing-lg) 0;
  }
  .container{padding:var(--spacing-md) var(--spacing-sm)}
  .site-header{padding:var(--spacing-md) var(--spacing-sm)}
  .card{
    padding:var(--spacing-md);
    margin:var(--spacing-sm) 0;
  }
  .tabs{
    flex-direction:column;
    gap:var(--spacing-xs);
  }
  .tab{
    padding:var(--spacing-md) var(--spacing-md);
    min-height:44px;
  }
  .page-title{font-size:28px}
  .lead{font-size:15px}
  .card-title{font-size:16px}
}
@media (max-width: 840px){ 
  .kpi-grid{grid-template-columns:repeat(2,1fr)} 
}

/* Navigation */
/* ナビゲーション - アクセシビリティ強化 */
.nav-links {
  display: flex;
  gap: var(--spacing-md);
  align-items: center;
}
.nav-link {
  color: white;
  text-decoration: none;
  padding: var(--spacing-sm) var(--spacing-md);
  background: rgba(255,255,255,0.15);
  border: 2px solid transparent;
  border-radius: var(--spacing-sm);
  font-weight: 600;
  font-size: 14px;
  transition: all 0.2s ease;
  min-height: 40px;
  display: flex;
  align-items: center;
}
.nav-link:hover {
  background: rgba(255,255,255,0.25);
  border-color: rgba(255,255,255,0.3);
  transform: translateY(-1px);
}
.nav-link:focus {
  outline: 3px solid rgba(255,255,255,0.5);
  outline-offset: 2px;
}
.site-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 15px;
}
